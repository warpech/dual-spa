<link rel="import" href="../../toolkit-ui/elements/g-ajax.html">
<link rel="import" href="../../toolkit-ui/elements/g-selector.html">
<element name="x-youtubesearch" attributes="query">
  <template>
    <style>
      .item {
        border-bottom: 1px solid #ccc;
        padding: 8px 0;
      }
    </style>
    <g-ajax auto id="ajax" url="http://gdata.youtube.com/feeds/api/videos/" 
        params='{"alt":"json", "v":"2", "max-results":"10", "q":"{{query}}"}'
        handleAs="json" response="{{response}}">
    </g-ajax>
    <input value="{{query}}" autofocus></input>
    <g-selector class="list">
      <template repeat="{{response.feed.entry}}">
        <div class="item">{{title.$t}}</div>
      </template>
    </g-selector>
  </template>
  <script>
    Polymer.register(this);
  </script>
</element>

<x-youtubesearch query="Chrome"></x-youtubesearch>